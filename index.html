Stoke ¬∑ HTML
Copy

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Stoke ‚Äî Keep the Fire Going</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,600;0,700;0,800;1,600;1,700&family=DM+Sans:ital,wght@0,400;0,500;0,600;0,700;1,400&display=swap" rel="stylesheet">
<style>
*, *::before, *::after { margin:0; padding:0; box-sizing:border-box; }
html, body {
  height:100%; width:100%; overflow:hidden;
  font-family:'DM Sans', sans-serif;
  -webkit-font-smoothing:antialiased;
  -webkit-tap-highlight-color:transparent;
  touch-action:manipulation;
  color:#fff;
}

/* PROGRESSIVE BLACK TO ORANGE */
.bg-layer {
  position:fixed; inset:0;
  transition:opacity 0.9s cubic-bezier(.4,0,.2,1);
}
#bg-a { z-index:1; }
#bg-b { z-index:2; opacity:0; }

.bg--home { background:#0a0a0a; }
.bg--icebreaker { background:linear-gradient(155deg, #1a0f0a 0%, #2d1810 45%, #3d2015 100%); }
.bg--quote { background:linear-gradient(155deg, #2d1810 0%, #3d2618 40%, #4d321d 100%); }
.bg--checkin { background:linear-gradient(155deg, #3d2618 0%, #5d3a20 38%, #754a28 100%); }
.bg--story { background:linear-gradient(155deg, #5d3a20 0%, #7d4e28 38%, #9d6230 100%); }
.bg--lesson { background:linear-gradient(155deg, #6d4628 0%, #8d5e30 38%, #ad7638 100%); }
.bg--mindful { background:linear-gradient(155deg, #8d5e30 0%, #b07840 38%, #d39250 100%); }
.bg--joke { background:linear-gradient(155deg, #a07040 0%, #c88850 38%, #e0a060 100%); }
.bg--close { background:linear-gradient(155deg, #d39250 0%, #e5a562 40%, #f7b774 75%, #ffc988 100%); }

.glow-layer { position:fixed; inset:0; z-index:3; pointer-events:none; }
.glow {
  position:absolute; border-radius:50%;
  filter:blur(90px);
  transition:background 0.9s cubic-bezier(.4,0,.2,1);
}

#particles { position:fixed; inset:0; z-index:4; pointer-events:none; }
.particle {
  position:absolute; border-radius:50%;
  animation:floatUp linear infinite;
}
@keyframes floatUp {
  0%   { transform:translateY(0) translateX(0); opacity:0; }
  8%   { opacity:0.85; }
  45%  { transform:translateY(-48vh) translateX(18px); opacity:0.55; }
  88%  { opacity:0.12; }
  100% { transform:translateY(-108vh) translateX(-12px); opacity:0; }
}

.screen {
  position:fixed; inset:0; z-index:10;
  display:flex; flex-direction:column;
  align-items:center; justify-content:center;
  padding:76px 28px 52px;
  opacity:0; pointer-events:none;
  transition:opacity 0.42s cubic-bezier(.4,0,.2,1);
  overflow-y:auto;
}
.screen.active { opacity:1; pointer-events:auto; }

.anim-in {
  opacity:0; transform:translateY(16px);
  transition:opacity 0.48s cubic-bezier(.34,1.56,.64,1),
             transform 0.48s cubic-bezier(.34,1.56,.64,1);
}
.screen.active .anim-in { opacity:1; transform:translateY(0); }
.screen.active .anim-in:nth-child(1) { transition-delay:0.04s; }
.screen.active .anim-in:nth-child(2) { transition-delay:0.10s; }
.screen.active .anim-in:nth-child(3) { transition-delay:0.16s; }
.screen.active .anim-in:nth-child(4) { transition-delay:0.22s; }
.screen.active .anim-in:nth-child(5) { transition-delay:0.28s; }
.screen.active .anim-in:nth-child(6) { transition-delay:0.34s; }
.screen.active .anim-in:nth-child(7) { transition-delay:0.40s; }
.screen.active .anim-in:nth-child(8) { transition-delay:0.46s; }
.screen.active .anim-in:nth-child(9) { transition-delay:0.52s; }
.screen.active .anim-in:nth-child(10) { transition-delay:0.58s; }

#top-chrome {
  position:fixed; top:0; left:0; right:0; z-index:100;
  display:flex; align-items:center; justify-content:space-between;
  padding:20px 22px; gap:10px;
  opacity:0; pointer-events:none;
  transition:opacity 0.3s ease;
}
#top-chrome.visible { opacity:1; pointer-events:auto; }

.chrome-btn {
  width:42px; height:42px; border-radius:50%;
  border:1.5px solid rgba(255,255,255,0.2);
  background:rgba(0,0,0,0.28);
  backdrop-filter:blur(12px);
  color:#fff; font-size:18px;
  display:flex; align-items:center; justify-content:center;
  cursor:pointer; transition:all 0.2s ease;
  flex-shrink:0;
}
.chrome-btn:active { transform:scale(0.92); }
.chrome-btn--guide {
  width:auto; padding:0 14px; border-radius:21px; font-size:13px;
  font-weight:500;
}

.dots {
  display:flex; gap:6px; align-items:center;
  flex:1; justify-content:center;
}
.dot {
  width:7px; height:7px; border-radius:50%;
  background:rgba(255,255,255,0.22);
  transition:all 0.3s cubic-bezier(.34,1.56,.64,1);
}
.dot.active {
  background:#f59e0b;
  box-shadow:0 0 12px rgba(245,158,11,0.6);
  transform:scale(1.3);
}
.dot.done { background:rgba(245,158,11,0.5); }

.home-inner {
  display:flex; flex-direction:column; align-items:center;
  gap:24px; max-width:420px; width:100%;
}
.title-block {
  display:flex; flex-direction:column; align-items:center; gap:10px;
  margin-bottom:8px;
}
.title-orb {
  width:68px; height:68px; border-radius:50%;
  background:radial-gradient(circle at 30% 30%, #fbbf24, #f59e0b);
  box-shadow:0 0 32px rgba(245,158,11,0.5),
             0 8px 24px rgba(0,0,0,0.3);
  animation:orbPulse 3s ease-in-out infinite;
  margin-bottom:4px;
}
@keyframes orbPulse {
  0%, 100% { transform:scale(1); box-shadow:0 0 32px rgba(245,158,11,0.5); }
  50% { transform:scale(1.08); box-shadow:0 0 48px rgba(245,158,11,0.7); }
}
.app-name {
  font-family:'Playfair Display', serif;
  font-size:4.2rem; font-weight:800;
  letter-spacing:-0.03em;
  background:linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
  -webkit-background-clip:text;
  background-clip:text;
  -webkit-text-fill-color:transparent;
  text-shadow:0 4px 12px rgba(245,158,11,0.3);
}
.app-tag {
  font-size:1.05rem; font-weight:500; color:rgba(255,255,255,0.68);
  letter-spacing:0.08em; text-transform:uppercase;
}

/* STATS ROW */
.stats-row {
  display:flex; gap:16px; width:100%;
}
.stat-box {
  flex:1; padding:14px 16px; border-radius:12px;
  background:rgba(255,255,255,0.06);
  border:1px solid rgba(255,255,255,0.1);
  text-align:center;
}
.stat-num {
  font-size:1.8rem; font-weight:700; color:#f59e0b;
  line-height:1;
}
.stat-label {
  font-size:0.75rem; font-weight:600; color:rgba(255,255,255,0.5);
  text-transform:uppercase; letter-spacing:0.05em;
  margin-top:4px;
}

/* FAMILY MEMBERS */
.family-section {
  width:100%;
}
.family-header {
  display:flex; align-items:center; justify-content:space-between;
  margin-bottom:12px;
}
.family-title {
  font-size:0.9rem; font-weight:600; color:rgba(255,255,255,0.7);
}
.family-add-btn {
  padding:6px 12px; border-radius:8px;
  border:1.5px solid rgba(255,255,255,0.2);
  background:rgba(255,255,255,0.08);
  color:#fff; font-size:0.85rem; font-weight:600;
  cursor:pointer; transition:all 0.2s ease;
}
.family-add-btn:active { transform:scale(0.95); }

.family-list {
  display:flex; flex-direction:column; gap:8px;
  max-height:180px; overflow-y:auto;
  padding-right:4px;
}
.family-list::-webkit-scrollbar { width:4px; }
.family-list::-webkit-scrollbar-thumb {
  background:rgba(245,158,11,0.4);
  border-radius:2px;
}

.family-member {
  display:flex; align-items:center; gap:12px;
  padding:12px 14px; border-radius:10px;
  background:rgba(255,255,255,0.06);
  border:1px solid rgba(255,255,255,0.1);
}
.family-avatar {
  width:36px; height:36px; border-radius:50%;
  background:linear-gradient(135deg, #f59e0b 0%, #ea580c 100%);
  display:flex; align-items:center; justify-content:center;
  font-size:1rem; font-weight:700;
  flex-shrink:0;
}
.family-name-input {
  flex:1; background:transparent; border:none;
  color:#fff; font-size:1rem; font-weight:500;
  font-family:'DM Sans', sans-serif;
  outline:none;
}
.family-name-input::placeholder {
  color:rgba(255,255,255,0.35);
}
.family-remove {
  width:28px; height:28px; border-radius:50%;
  border:none; background:rgba(255,255,255,0.1);
  color:rgba(255,255,255,0.5); font-size:16px;
  cursor:pointer; transition:all 0.2s ease;
  display:flex; align-items:center; justify-content:center;
}
.family-remove:hover { background:rgba(239,68,68,0.3); color:#fff; }

.btn-hero {
  width:100%; padding:18px 32px; border-radius:14px;
  border:none;
  background:linear-gradient(135deg, #f59e0b 0%, #ea580c 100%);
  box-shadow:0 4px 16px rgba(249,115,22,0.4);
  color:#fff; font-size:1.15rem; font-weight:700;
  cursor:pointer; transition:all 0.25s cubic-bezier(.34,1.56,.64,1);
}
.btn-hero:active {
  transform:translateY(2px) scale(0.98);
}
.btn-hero:disabled {
  opacity:0.5; cursor:not-allowed;
}

.footer-note {
  margin-top:8px; text-align:center;
  font-size:0.78rem; color:rgba(255,255,255,0.35);
}

.act-label {
  display:flex; align-items:center; gap:12px;
  font-size:0.88rem; font-weight:600;
  letter-spacing:0.08em; text-transform:uppercase;
  color:rgba(255,255,255,0.75);
  margin-bottom:28px;
}
.act-label .line {
  flex:1; height:1px;
  background:linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
}
.btn-primary {
  padding:15px 28px; border-radius:12px;
  border:none;
  background:rgba(255,255,255,0.14);
  backdrop-filter:blur(8px);
  border:1.5px solid rgba(255,255,255,0.18);
  color:#fff; font-size:1rem; font-weight:600;
  cursor:pointer;
  display:inline-flex; align-items:center; gap:8px;
  transition:all 0.25s cubic-bezier(.34,1.56,.64,1);
  margin-top:24px;
}
.btn-primary:active {
  transform:scale(0.96);
  background:rgba(255,255,255,0.2);
}
.btn-primary .arrow { font-size:1.1rem; }

.card-actions {
  display:flex; gap:12px; margin-top:20px; width:100%;
  max-width:420px; justify-content:center;
}
.btn-secondary {
  flex:1; padding:12px 18px; border-radius:10px;
  border:1.5px solid rgba(255,255,255,0.25);
  background:rgba(255,255,255,0.08);
  backdrop-filter:blur(8px);
  color:rgba(255,255,255,0.85); font-size:0.9rem; font-weight:600;
  cursor:pointer;
  display:flex; align-items:center; justify-content:center; gap:6px;
  transition:all 0.2s ease;
}
.btn-secondary:active {
  transform:scale(0.94);
  background:rgba(255,255,255,0.14);
}

.prompt-big {
  font-size:1.7rem; font-weight:600; line-height:1.4;
  text-align:center; color:#fff;
  max-width:540px;
}
.prompt-hint {
  font-size:0.95rem; font-weight:500; color:rgba(255,255,255,0.6);
  text-align:center; margin-top:18px;
}

.quote-glyph {
  font-family:'Playfair Display', serif;
  font-size:5rem; font-weight:700; font-style:italic;
  color:rgba(255,255,255,0.18);
  line-height:0.6; margin-bottom:16px;
}
.quote-text {
  font-family:'Playfair Display', serif;
  font-size:1.5rem; font-weight:600; font-style:italic;
  line-height:1.5; text-align:center;
  color:#fff; max-width:560px;
}
.quote-author {
  font-size:1.05rem; font-weight:600; color:rgba(255,255,255,0.65);
  margin-top:20px;
}
.quote-discuss {
  font-size:0.95rem; font-weight:500; color:rgba(255,255,255,0.55);
  margin-top:24px;
}

.ci-indicator {
  font-size:0.9rem; font-weight:600; color:rgba(255,255,255,0.6);
  letter-spacing:0.05em; text-transform:uppercase;
}
.ci-name {
  font-size:1.6rem; font-weight:700; color:#fff;
  margin:8px 0 24px;
}
.ci-name span {
  color:#f59e0b;
}
.ci-cards {
  display:flex; flex-direction:column; gap:16px;
  width:100%; max-width:460px;
}
.ci-card {
  display:flex; gap:16px; align-items:flex-start;
  padding:20px; border-radius:14px;
  background:rgba(255,255,255,0.08);
  border:1px solid rgba(255,255,255,0.12);
  backdrop-filter:blur(8px);
}
.ci-card-icon { font-size:2rem; flex-shrink:0; }
.ci-card-label {
  font-size:0.85rem; font-weight:700;
  letter-spacing:0.08em; text-transform:uppercase;
  color:rgba(255,255,255,0.7);
  margin-bottom:6px;
}
.ci-card-text {
  font-size:1.05rem; font-weight:500; line-height:1.45;
  color:#fff;
}
.ci-nav {
  display:flex; align-items:center; gap:20px;
  margin-top:20px;
}
.ci-nav-btn {
  width:44px; height:44px; border-radius:50%;
  border:1.5px solid rgba(255,255,255,0.25);
  background:rgba(255,255,255,0.1);
  color:#fff; font-size:22px; font-weight:700;
  cursor:pointer; transition:all 0.2s ease;
  display:flex; align-items:center; justify-content:center;
}
.ci-nav-btn:active { transform:scale(0.9); }
.ci-nav-btn:disabled { opacity:0.3; cursor:not-allowed; }
.ci-nav-label {
  font-size:1rem; font-weight:600; color:rgba(255,255,255,0.75);
  min-width:60px; text-align:center;
}

.story-title {
  font-family:'Playfair Display', serif;
  font-size:1.8rem; font-weight:700;
  text-align:center; color:#fff;
  margin-bottom:24px; max-width:500px;
  line-height:1.3;
}
.story-body {
  font-size:1.05rem; font-weight:400; line-height:1.7;
  text-align:left; color:rgba(255,255,255,0.92);
  max-width:580px; margin:0 auto;
  overflow-y:auto; max-height:40vh;
  padding-right:10px;
}
.story-body::-webkit-scrollbar { width:6px; }
.story-body::-webkit-scrollbar-thumb {
  background:rgba(245,158,11,0.4);
  border-radius:3px;
}
.story-moral {
  margin-top:20px; padding:18px 22px; border-radius:12px;
  background:rgba(255,255,255,0.08);
  border-left:4px solid rgba(245,158,11,0.7);
  font-size:1rem; font-weight:600; font-style:italic;
  color:rgba(255,255,255,0.88);
  max-width:580px;
}

.lesson-cat {
  display:flex; align-items:center; gap:10px;
  font-size:0.88rem; font-weight:700;
  letter-spacing:0.06em; text-transform:uppercase;
  color:rgba(255,255,255,0.68);
  margin-bottom:16px;
}
.lesson-cat-icon { font-size:1.4rem; }
.lesson-title {
  font-family:'Playfair Display', serif;
  font-size:1.65rem; font-weight:700;
  text-align:center; color:#fff;
  margin-bottom:20px; max-width:500px;
  line-height:1.3;
}
.lesson-body {
  font-size:1rem; font-weight:400; line-height:1.65;
  text-align:left; color:rgba(255,255,255,0.88);
  max-width:540px;
}
.lesson-badge {
  margin-top:22px; padding:10px 18px; border-radius:20px;
  background:rgba(245,158,11,0.15);
  border:1px solid rgba(245,158,11,0.3);
  font-size:0.88rem; font-weight:600;
  color:rgba(245,158,11,0.95);
}

.mindful-intro {
  font-size:1.05rem; font-weight:500; line-height:1.6;
  text-align:center; color:rgba(255,255,255,0.85);
  max-width:480px; margin-bottom:32px;
}
.mindful-timer {
  font-family:'Playfair Display', serif;
  font-size:5rem; font-weight:700;
  color:#fff;
  text-shadow:0 0 24px rgba(245,158,11,0.5);
  margin:32px 0;
}
.mindful-status {
  font-size:0.95rem; font-weight:600;
  color:rgba(255,255,255,0.6);
  letter-spacing:0.08em; text-transform:uppercase;
  margin-bottom:28px;
}
.btn-mindful {
  padding:16px 40px; border-radius:12px;
  border:none;
  background:linear-gradient(135deg, rgba(245,158,11,0.3), rgba(249,115,22,0.3));
  backdrop-filter:blur(12px);
  border:1.5px solid rgba(245,158,11,0.4);
  color:#fff; font-size:1.05rem; font-weight:600;
  cursor:pointer;
  display:inline-flex; align-items:center; gap:10px;
  transition:all 0.25s ease;
  box-shadow:0 4px 16px rgba(245,158,11,0.2);
}
.btn-mindful:active { transform:scale(0.96); }

.joke-setup {
  font-size:1.65rem; font-weight:600; line-height:1.45;
  text-align:center; color:#fff;
  max-width:520px;
}
.btn-reveal {
  padding:16px 32px; border-radius:12px;
  border:none;
  background:rgba(255,255,255,0.12);
  backdrop-filter:blur(8px);
  border:2px solid rgba(255,255,255,0.2);
  color:#fff; font-size:1.05rem; font-weight:700;
  cursor:pointer;
  display:inline-flex; align-items:center; gap:10px;
  transition:all 0.25s cubic-bezier(.34,1.56,.64,1);
  margin-top:28px;
}
.btn-reveal:active { transform:scale(0.94); }
.btn-reveal .icon { font-size:1.3rem; }
.punchline-wrap {
  display:none;
  flex-direction:column; align-items:center; gap:18px;
  margin-top:32px; max-width:520px;
}
.punchline-div {
  width:80px; height:2px;
  background:linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
}
.punchline-text {
  font-size:1.6rem; font-weight:700; line-height:1.4;
  text-align:center; color:#fff;
  animation:punchPop 0.5s cubic-bezier(.34,1.56,.64,1);
}
@keyframes punchPop {
  from { opacity:0; transform:scale(0.85); }
  to { opacity:1; transform:scale(1); }
}
.punchline-laugh {
  font-size:3rem;
  animation:punchPop 0.6s cubic-bezier(.34,1.56,.64,1) 0.2s both;
}

.close-fire {
  font-size:6rem; margin-bottom:24px;
  animation:orbPulse 2.5s ease-in-out infinite;
}
.close-title {
  font-family:'Playfair Display', serif;
  font-size:2rem; font-weight:700;
  color:#fff; margin-bottom:14px;
}
.close-sub {
  font-size:1.05rem; font-weight:500; line-height:1.6;
  text-align:center; color:rgba(255,255,255,0.75);
  max-width:480px; margin-bottom:32px;
}
.close-stats {
  display:flex; gap:24px; margin-bottom:24px;
}
.close-stat {
  text-align:center;
}
.close-stat-num {
  font-size:2.5rem; font-weight:700; color:#f59e0b;
}
.close-stat-label {
  font-size:0.8rem; font-weight:600; color:rgba(255,255,255,0.6);
  text-transform:uppercase;
}

.guide-modal {
  position:fixed; inset:0; z-index:200;
  background:rgba(0,0,0,0.88);
  backdrop-filter:blur(10px);
  display:none; align-items:center; justify-content:center;
  padding:20px;
}
.guide-modal.active { display:flex; }
.guide-content {
  background:rgba(20,20,20,0.96);
  border:1px solid rgba(255,255,255,0.15);
  border-radius:16px;
  padding:32px 28px;
  max-width:500px; width:100%;
  max-height:85vh; overflow-y:auto;
  position:relative;
}
.guide-close {
  position:absolute; top:16px; right:16px;
  width:32px; height:32px; border-radius:50%;
  border:1px solid rgba(255,255,255,0.2);
  background:rgba(255,255,255,0.08);
  color:#fff; font-size:18px; font-weight:700;
  cursor:pointer; display:flex;
  align-items:center; justify-content:center;
  transition:all 0.2s ease;
}
.guide-close:active { transform:scale(0.9); }
.guide-title {
  font-family:'Playfair Display', serif;
  font-size:1.8rem; font-weight:700;
  color:#fff; margin-bottom:20px;
}
.guide-section {
  margin-bottom:22px;
}
.guide-section-title {
  font-size:1.05rem; font-weight:700;
  color:rgba(245,158,11,0.95);
  margin-bottom:8px;
}
.guide-section-body {
  font-size:0.95rem; font-weight:400; line-height:1.6;
  color:rgba(255,255,255,0.8);
}

@media (max-width:480px) {
  .app-name { font-size:3.3rem; }
  .prompt-big, .joke-setup { font-size:1.4rem; }
  .quote-text { font-size:1.25rem; }
  .story-title, .lesson-title { font-size:1.45rem; }
  .close-title { font-size:1.72rem; }
  .screen { padding:68px 22px 44px; }
  .mindful-timer { font-size:4rem; }
  .stats-row { gap:10px; }
  .stat-box { padding:12px 10px; }
  .stat-num { font-size:1.5rem; }
}
</style>
</head>
<body>

<div class="bg-layer bg--home" id="bg-a"></div>
<div class="bg-layer bg--home" id="bg-b"></div>

<div class="glow-layer">
  <div class="glow" id="glow1" style="width:300px;height:300px;top:-70px;right:-50px;"></div>
  <div class="glow" id="glow2" style="width:250px;height:250px;bottom:-50px;left:-70px;"></div>
</div>

<div id="particles"></div>

<div id="top-chrome">
  <button class="chrome-btn chrome-btn--back" onclick="goBack()">‚Üê</button>
  <div class="dots" id="dots-container"></div>
  <button class="chrome-btn chrome-btn--guide" onclick="toggleGuide()">üìñ</button>
  <button class="chrome-btn chrome-btn--end" onclick="goHome()">‚úï</button>
</div>

<div class="guide-modal" id="guide-modal">
  <div class="guide-content">
    <button class="guide-close" onclick="toggleGuide()">‚úï</button>
    <div class="guide-title">Quick Guide</div>
    <div class="guide-section">
      <div class="guide-section-title">üî• Ice Breaker</div>
      <div class="guide-section-body">Everyone answers a fun question. Go around the room.</div>
    </div>
    <div class="guide-section">
      <div class="guide-section-title">üìñ Quote</div>
      <div class="guide-section-body">Read and discuss a meaningful quote together.</div>
    </div>
    <div class="guide-section">
      <div class="guide-section-title">üå± Check-In</div>
      <div class="guide-section-body">Each person shares one gratitude and one goal.</div>
    </div>
    <div class="guide-section">
      <div class="guide-section-title">üìö Story</div>
      <div class="guide-section-body">Read a modern fable. Discuss the moral.</div>
    </div>
    <div class="guide-section">
      <div class="guide-section-title">üß† Skill</div>
      <div class="guide-section-body">Learn something practical ‚Äî first aid to life skills.</div>
    </div>
    <div class="guide-section">
      <div class="guide-section-title">üßò Mindfulness</div>
      <div class="guide-section-body">30 seconds of quiet reflection with fire sounds.</div>
    </div>
    <div class="guide-section">
      <div class="guide-section-title">üòÇ Joke</div>
      <div class="guide-section-body">End with laughter!</div>
    </div>
  </div>
</div>

<!-- HOME SCREEN -->
<div class="screen active" id="screen-home">
  <div class="home-inner">
    <div class="title-block anim-in">
      <div class="title-orb"></div>
      <div class="app-name">STOKE</div>
      <div class="app-tag">Keep the Fire Going</div>
    </div>
    
    <div class="stats-row anim-in">
      <div class="stat-box">
        <div class="stat-num" id="stat-meetings">0</div>
        <div class="stat-label">Gatherings</div>
      </div>
      <div class="stat-box">
        <div class="stat-num" id="stat-days">‚Äî</div>
        <div class="stat-label">Days Ago</div>
      </div>
    </div>
    
    <div class="family-section anim-in">
      <div class="family-header">
        <span class="family-title">Who's joining?</span>
        <button class="family-add-btn" onclick="addMember()">+ Add</button>
      </div>
      <div class="family-list" id="family-list"></div>
    </div>
    
    <button class="btn-hero anim-in" id="btn-start" onclick="startMeeting()">Start Gathering</button>
    <div class="footer-note anim-in">Made with üî• in West Virginia</div>
  </div>
</div>

<!-- ICEBREAKER -->
<div class="screen" id="screen-icebreaker">
  <div class="act-label anim-in"><span class="line"></span><span>üî• Ice Breaker</span><span class="line"></span></div>
  <div class="prompt-big anim-in" id="ib-text"></div>
  <div class="prompt-hint anim-in">Everyone answers ‚Äî go around the room.</div>
  <div class="card-actions anim-in">
    <button class="btn-secondary" onclick="oneMore('icebreaker')">‚Üª One More</button>
    <button class="btn-secondary" onclick="skip('icebreaker')">Skip ‚Üí</button>
  </div>
  <button class="btn-primary anim-in" onclick="goToAct(2)">Continue <span class="arrow">‚Üí</span></button>
</div>

<!-- QUOTE -->
<div class="screen" id="screen-quote">
  <div class="act-label anim-in"><span class="line"></span><span>üìñ Quote</span><span class="line"></span></div>
  <div class="quote-glyph anim-in">"</div>
  <div class="quote-text anim-in" id="qt-text"></div>
  <div class="quote-author anim-in" id="qt-author"></div>
  <div class="quote-discuss anim-in">What does this mean to you?</div>
  <div class="card-actions anim-in">
    <button class="btn-secondary" onclick="oneMore('quote')">‚Üª One More</button>
    <button class="btn-secondary" onclick="skip('quote')">Skip ‚Üí</button>
  </div>
  <button class="btn-primary anim-in" onclick="goToAct(3)">Continue <span class="arrow">‚Üí</span></button>
</div>

<!-- CHECK-IN -->
<div class="screen" id="screen-checkin">
  <div class="act-label anim-in"><span class="line"></span><span>üå± Check-In</span><span class="line"></span></div>
  <div class="ci-indicator anim-in">Person <span id="ci-cur">1</span> of <span id="ci-tot">3</span></div>
  <div class="ci-name anim-in">Your turn, <span id="ci-pname">Person 1</span></div>
  <div class="ci-cards anim-in">
    <div class="ci-card">
      <div class="ci-card-icon">üôè</div>
      <div><div class="ci-card-label">Gratitude</div><div class="ci-card-text" id="ci-grat"></div></div>
    </div>
    <div class="ci-card">
      <div class="ci-card-icon">üéØ</div>
      <div><div class="ci-card-label">Goals</div><div class="ci-card-text" id="ci-goal"></div></div>
    </div>
  </div>
  <div class="ci-nav anim-in">
    <button class="ci-nav-btn" id="ci-prev" onclick="movePerson(-1)">‚Äπ</button>
    <span class="ci-nav-label" id="ci-navlbl">1 / 3</span>
    <button class="ci-nav-btn" id="ci-next" onclick="movePerson(1)">‚Ä∫</button>
  </div>
  <div class="card-actions anim-in">
    <button class="btn-secondary" onclick="oneMore('checkin')">‚Üª New Prompts</button>
    <button class="btn-secondary" onclick="skip('checkin')">Skip ‚Üí</button>
  </div>
  <button class="btn-primary anim-in" id="ci-cont">Next Person <span class="arrow">‚Ä∫</span></button>
</div>

<!-- STORY -->
<div class="screen" id="screen-story">
  <div class="act-label anim-in"><span class="line"></span><span>üìö Story</span><span class="line"></span></div>
  <div class="story-title anim-in" id="story-title"></div>
  <div class="story-body anim-in" id="story-body"></div>
  <div class="story-moral anim-in" id="story-moral"></div>
  <div class="card-actions anim-in">
    <button class="btn-secondary" onclick="oneMore('story')">‚Üª Another</button>
    <button class="btn-secondary" onclick="skip('story')">Skip ‚Üí</button>
  </div>
  <button class="btn-primary anim-in" onclick="goToAct(5)">Continue <span class="arrow">‚Üí</span></button>
</div>

<!-- LESSON -->
<div class="screen" id="screen-lesson">
  <div class="act-label anim-in"><span class="line"></span><span>üß† Skill of the Day</span><span class="line"></span></div>
  <div class="lesson-cat anim-in"><span class="lesson-cat-icon" id="les-icon"></span><span id="les-cat"></span></div>
  <div class="lesson-title anim-in" id="les-title"></div>
  <div class="lesson-body anim-in" id="les-body"></div>
  <div class="lesson-badge anim-in">üí° Did you know?</div>
  <div class="card-actions anim-in">
    <button class="btn-secondary" onclick="oneMore('lesson')">‚Üª Another</button>
    <button class="btn-secondary" onclick="skip('lesson')">Skip ‚Üí</button>
  </div>
  <button class="btn-primary anim-in" onclick="goToAct(6)">Continue <span class="arrow">‚Üí</span></button>
</div>

<!-- MINDFULNESS -->
<div class="screen" id="screen-mindful">
  <div class="act-label anim-in"><span class="line"></span><span>üßò Mindfulness</span><span class="line"></span></div>
  <div class="mindful-intro anim-in">Take 30 seconds to breathe and be present. Close your eyes. Listen to the fire.</div>
  <div class="mindful-timer anim-in" id="mindful-timer">0:30</div>
  <div class="mindful-status anim-in" id="mindful-status">Ready when you are</div>
  <button class="btn-mindful anim-in" id="btn-mindful" onclick="startMindful()">üî• Begin</button>
  <button class="btn-primary anim-in" id="mindful-cont" style="display:none;" onclick="goToAct(7)">Continue <span class="arrow">‚Üí</span></button>
  <div class="card-actions anim-in">
    <button class="btn-secondary" onclick="skip('mindful')">Skip ‚Üí</button>
  </div>
</div>

<!-- JOKE -->
<div class="screen" id="screen-joke">
  <div class="act-label anim-in"><span class="line"></span><span>üòÇ Joke Time</span><span class="line"></span></div>
  <div class="joke-setup anim-in" id="jk-setup"></div>
  <button class="btn-reveal anim-in" id="btn-reveal" onclick="revealJoke()"><span class="icon">üëÄ</span> Reveal Punchline</button>
  <div class="punchline-wrap anim-in" id="pk-wrap">
    <div class="punchline-div"></div>
    <div class="punchline-text" id="jk-punch"></div>
    <div class="punchline-laugh">üòÇ</div>
  </div>
  <div class="card-actions anim-in">
    <button class="btn-secondary" onclick="oneMore('joke')">‚Üª Another</button>
  </div>
  <button class="btn-primary anim-in" onclick="goToAct(8)">Wrap Up <span class="arrow">‚Üí</span></button>
</div>

<!-- CLOSE -->
<div class="screen" id="screen-close">
  <div class="close-fire anim-in">üî•</div>
  <div class="close-title anim-in">Great Gathering!</div>
  <div class="close-sub anim-in">You just invested in what matters most. See you next time.</div>
  <div class="close-stats anim-in">
    <div class="close-stat">
      <div class="close-stat-num" id="close-total">1</div>
      <div class="close-stat-label">Total Gatherings</div>
    </div>
  </div>
  <button class="btn-hero anim-in" onclick="goHome()">Done</button>
</div>

<script>
// DATA
const D={};

// 50 ICE BREAKERS
D.ib=[
"If you could have dinner with anyone, living or dead, who would it be?",
"What's a skill you'd love to learn?",
"What's the best trip you've ever taken?",
"If you could live anywhere in the world, where would it be?",
"What's a movie you could watch over and over?",
"What's something you're proud of this week?",
"If you could have any superpower, what would it be?",
"What's your favorite family tradition?",
"What's a food you could eat every day?",
"If you won the lottery, what's the first thing you'd do?",
"What's your earliest childhood memory?",
"What's a book that changed your life?",
"If you could time travel, would you go to the past or future?",
"What's the best advice you've ever received?",
"What's something that always makes you laugh?",
"If you could master any instrument, which would it be?",
"What's your dream job?",
"What's a small thing that makes your day better?",
"If you could have any animal as a pet, what would it be?",
"What's something you believed as a kid that turned out to be wrong?",
"What's the most adventurous thing you've ever done?",
"If you could only eat one cuisine for the rest of your life, what would it be?",
"What's a goal you have for this year?",
"What's your favorite way to spend a rainy day?",
"If you could switch lives with someone for a day, who would it be?",
"What's a song that brings back memories?",
"What's the kindest thing someone has done for you?",
"If you could learn the truth about any mystery, which would it be?",
"What's something you want to do before you turn [next milestone age]?",
"What's your favorite holiday and why?",
"If you could have a conversation with your future self, what would you ask?",
"What's a talent you wish you had?",
"What's the best gift you've ever received?",
"If you could eliminate one chore forever, what would it be?",
"What's something new you tried recently?",
"What's a place you've always wanted to visit?",
"If you could be famous for something, what would it be?",
"What's your favorite thing about each person in this room?",
"What's a fear you've overcome?",
"If you could relive one day of your life, which would it be?",
"What's something that's on your bucket list?",
"What makes you feel most loved?",
"If you could change one thing about the world, what would it be?",
"What's the most interesting thing you learned recently?",
"What's a tradition you want to start?",
"If you had an extra hour every day, how would you spend it?",
"What's something you're looking forward to?",
"What's the best compliment you've ever received?",
"If you could have any job for just one week, what would it be?",
"What three words would you use to describe our family?"
];

// 40 QUOTES
D.qt=[
{t:"The best time to plant a tree was 20 years ago. The second best time is now.",a:"Chinese Proverb"},
{t:"Be the change you wish to see in the world.",a:"Mahatma Gandhi"},
{t:"In the middle of difficulty lies opportunity.",a:"Albert Einstein"},
{t:"It is not the mountain we conquer, but ourselves.",a:"Edmund Hillary"},
{t:"The only way to do great work is to love what you do.",a:"Steve Jobs"},
{t:"Happiness is not something ready made. It comes from your own actions.",a:"Dalai Lama"},
{t:"The future belongs to those who believe in the beauty of their dreams.",a:"Eleanor Roosevelt"},
{t:"What lies behind us and what lies before us are tiny matters compared to what lies within us.",a:"Ralph Waldo Emerson"},
{t:"You miss 100% of the shots you don't take.",a:"Wayne Gretzky"},
{t:"Life is what happens when you're busy making other plans.",a:"John Lennon"},
{t:"The only impossible journey is the one you never begin.",a:"Tony Robbins"},
{t:"Success is not final, failure is not fatal: it is the courage to continue that counts.",a:"Winston Churchill"},
{t:"It always seems impossible until it's done.",a:"Nelson Mandela"},
{t:"The greatest glory in living lies not in never falling, but in rising every time we fall.",a:"Nelson Mandela"},
{t:"Tell me and I forget. Teach me and I remember. Involve me and I learn.",a:"Benjamin Franklin"},
{t:"A person who never made a mistake never tried anything new.",a:"Albert Einstein"},
{t:"The purpose of our lives is to be happy.",a:"Dalai Lama"},
{t:"Get busy living or get busy dying.",a:"Stephen King"},
{t:"You only live once, but if you do it right, once is enough.",a:"Mae West"},
{t:"Many of life's failures are people who did not realize how close they were to success when they gave up.",a:"Thomas Edison"},
{t:"If you want to lift yourself up, lift up someone else.",a:"Booker T. Washington"},
{t:"Life is either a daring adventure or nothing at all.",a:"Helen Keller"},
{t:"The way to get started is to quit talking and begin doing.",a:"Walt Disney"},
{t:"Don't judge each day by the harvest you reap but by the seeds you plant.",a:"Robert Louis Stevenson"},
{t:"The best and most beautiful things in the world cannot be seen or even touched ‚Äî they must be felt with the heart.",a:"Helen Keller"},
{t:"It is during our darkest moments that we must focus to see the light.",a:"Aristotle"},
{t:"Whoever is happy will make others happy too.",a:"Anne Frank"},
{t:"Do not go where the path may lead, go instead where there is no path and leave a trail.",a:"Ralph Waldo Emerson"},
{t:"If you look at what you have in life, you'll always have more.",a:"Oprah Winfrey"},
{t:"Spread love everywhere you go. Let no one ever come to you without leaving happier.",a:"Mother Teresa"},
{t:"When you reach the end of your rope, tie a knot in it and hang on.",a:"Franklin D. Roosevelt"},
{t:"Always remember that you are absolutely unique. Just like everyone else.",a:"Margaret Mead"},
{t:"The only person you are destined to become is the person you decide to be.",a:"Ralph Waldo Emerson"},
{t:"Believe you can and you're halfway there.",a:"Theodore Roosevelt"},
{t:"I have learned over the years that when one's mind is made up, this diminishes fear.",a:"Rosa Parks"},
{t:"Everything you've ever wanted is on the other side of fear.",a:"George Addair"},
{t:"We may encounter many defeats but we must not be defeated.",a:"Maya Angelou"},
{t:"Knowing is not enough; we must apply. Wishing is not enough; we must do.",a:"Johann Wolfgang von Goethe"},
{t:"Imagine all the people living life in peace.",a:"John Lennon"},
{t:"The secret of getting ahead is getting started.",a:"Mark Twain"}
];

// GRATITUDES
D.gr=[
"Share one thing you're grateful for this week.",
"Name someone who made a difference for you recently.",
"What's something small that brought you joy today?",
"What's a simple pleasure you're thankful for?",
"Who is someone you appreciate and why?",
"What's something about our home you're grateful for?",
"What ability or skill are you thankful to have?",
"What's a memory you're grateful for?",
"What's something in nature you appreciate?",
"What made you smile recently?",
"What's a challenge that taught you something valuable?",
"Who helped you this week?",
"What's a comfort you're thankful for?",
"What opportunity are you grateful for?",
"What friendship are you thankful for?"
];

// GOALS
D.gl=[
"What's one thing you want to accomplish this week?",
"What's a habit you want to build?",
"Is there something you want to learn?",
"What's a kind thing you could do for someone?",
"What's one way you want to challenge yourself?",
"Is there a conversation you need to have?",
"What's something you've been putting off?",
"How do you want to take care of yourself this week?",
"What's a small step toward a bigger goal?",
"What relationship do you want to invest in?",
"What do you want to do less of?",
"What do you want to do more of?",
"Is there something you need to finish?",
"What's a fear you want to face?",
"How can you help someone this week?"
];

// STORIES
D.st=[
{t:"The Two Wolves",s:"A grandfather tells his grandson about two wolves fighting inside everyone ‚Äî one is anger, envy, and ego; the other is joy, peace, and love. The grandson asks which wolf wins. The grandfather replies: 'The one you feed.'",m:"Moral: We become what we focus on."},
{t:"The Cracked Pot",s:"A water bearer had two pots ‚Äî one perfect, one cracked. The cracked pot felt ashamed for only delivering half its water. But the bearer showed it the flowers growing on its side of the path, watered by its leak every day.",m:"Moral: Our flaws can create unexpected beauty."},
{t:"The Stonecutter",s:"A stonecutter wished to be powerful. He became the sun, then a cloud, then the wind, then a mountain. But when another stonecutter began chipping away at him, he realized: he was most powerful as himself.",m:"Moral: True power comes from being who you are."},
{t:"The Empty Boat",s:"A man rowing on a foggy river gets angry when another boat crashes into him ‚Äî until he realizes the other boat is empty. The boat wasn't trying to hit him.",m:"Moral: Most offenses aren't personal. Don't fill empty boats with enemies."},
{t:"The Farmer's Luck",s:"When a farmer's horse runs away, neighbors say 'Bad luck.' He replies: 'Maybe.' The horse returns with wild horses. 'Good luck!' 'Maybe.' His son breaks his leg taming them. 'Bad luck!' 'Maybe.' The army comes recruiting, but skips his injured son.",m:"Moral: We rarely know what's truly good or bad in the moment."},
{t:"The Heavy Load",s:"Two monks see a woman unable to cross a muddy road. The older monk carries her across. Hours later, the younger monk says, 'We're not supposed to touch women.' The elder replies: 'I set her down hours ago. Why are you still carrying her?'",m:"Moral: Holding onto things burdens only ourselves."},
{t:"The Golden Windows",s:"A boy admires a faraway house with golden windows. He walks miles to see it, only to find plain glass. Looking back, he sees his own home's windows glowing gold in the sunset.",m:"Moral: What we seek is often already ours."},
{t:"The Echo",s:"A boy yells 'I hate you!' into a valley and hears it back. Frightened, he tells his mother. She asks him to yell 'I love you!' He does, and the valley echoes love back.",m:"Moral: The world reflects what we put into it."},
{t:"The Wise Teacher's Cup",s:"A visitor keeps talking while a teacher pours tea ‚Äî until the cup overflows. 'Like this cup, you're full of opinions,' the teacher says. 'How can I teach you unless you first empty your cup?'",m:"Moral: Learning requires openness."},
{t:"The Bundle of Sticks",s:"A father gives his quarreling sons a bundle of sticks to break ‚Äî none can. Then he unties it and breaks each stick easily, one by one. 'Together you are strong. Divided, you are weak.'",m:"Moral: Unity creates strength."}
];

// LESSONS
D.ls=[
{c:"First Aid",i:"ü©π",t:"How to Stop a Nosebleed",b:"Sit up straight, lean forward slightly. Pinch the soft part of your nose just below the bridge. Hold firmly for 10-15 minutes without checking. Breathe through your mouth. If bleeding continues beyond 20 minutes, seek medical help."},
{c:"First Aid",i:"ü©π",t:"How to Treat a Minor Burn",b:"Run cool (not cold) water over the burn for 10-20 minutes. Don't use ice or butter. Cover loosely with clean bandage. Take over-the-counter pain reliever if needed. See a doctor if it blisters badly or is larger than 3 inches."},
{c:"First Aid",i:"ü©π",t:"How to Help Someone Choking",b:"Ask 'Are you choking?' If they can't speak or cough, stand behind them, make a fist above their navel, and thrust inward and upward firmly. Repeat until object comes out or they become unconscious ‚Äî then call 911 and start CPR."},
{c:"Life Skills",i:"‚öôÔ∏è",t:"How to Do Laundry",b:"Sort by color: whites, darks, colors. Check pockets. Turn darks inside out. Use cold water to prevent shrinking and fading. Don't overload. Clean lint trap every time you use dryer. Fold immediately to prevent wrinkles."},
{c:"Life Skills",i:"‚öôÔ∏è",t:"How to Check Your Oil",b:"Park on level ground, engine off for 5 min. Pull out dipstick, wipe clean, reinsert fully, pull out again. Oil should be between min and max marks. If low, add same weight oil slowly, checking frequently. Check monthly."},
{c:"Life Skills",i:"‚öôÔ∏è",t:"How to Tie a Tie",b:"Four-in-hand knot: Wide end starts longer. Cross wide over narrow, wrap around, bring through neck loop, pull through front knot. Tighten by holding knot and pulling narrow end. Adjust length by sliding knot up."},
{c:"Communication",i:"üí¨",t:"Active Listening",b:"Stop thinking about your response. Make eye contact. Nod occasionally. Don't interrupt. Ask questions that show you heard. Repeat back key points: 'So what you're saying is...' Put your phone away completely."},
{c:"Communication",i:"üí¨",t:"How to Say No",b:"You don't need to explain or apologize. 'I can't take that on right now' is a complete sentence. Offer an alternative if you want. Don't say 'maybe' when you mean 'no' ‚Äî that's worse. Practice in low-stakes situations first."},
{c:"Communication",i:"üí¨",t:"Giving Constructive Feedback",b:"Start with specific positive. State the issue clearly without attacking character. Explain impact. Suggest solution or ask for their ideas. End with encouragement. Use 'I noticed' not 'You always.' Focus on behavior, not person."},
{c:"Safety",i:"üõ°Ô∏è",t:"What to Do in a Tornado",b:"Go to the lowest floor, an interior room with no windows. A bathroom or closet works. Cover your head and neck. Stay away from windows. If in a car, get out ‚Äî find a ditch lower than the road."},
{c:"Safety",i:"üõ°Ô∏è",t:"Your Emergency Kit",b:"Water ‚Äî one gallon per person per day for three days. Non-perishable food. Flashlight and batteries. First aid kit. Phone charger and cash. Copies of important documents. A blanket and a whistle. Keep it where you can grab it in 60 seconds."},
{c:"Personal Growth",i:"üå±",t:"How to Meditate",b:"Sit comfortably. Close eyes. Focus on breathing ‚Äî in through nose, out through mouth. When mind wanders (it will), gently return focus to breath. Start with 2 minutes. Build slowly. Consistency matters more than duration."},
{c:"Personal Growth",i:"üå±",t:"Starting Your Day Right",b:"Don't check phone first thing. Hydrate before coffee. Move your body ‚Äî stretch or walk. Eat something real. Plan your top 3 priorities. Do hardest task first. Protect first hour from distractions."},
{c:"Personal Growth",i:"üå±",t:"Breaking a Bad Habit",b:"Identify the trigger. Replace habit instead of just stopping. Make it harder to do bad habit. Make good alternative easier. Track progress visibly. Expect setbacks. Focus on streak, not perfection. Find accountability partner."},
{c:"Practical Skills",i:"üîß",t:"Jump Starting a Dead Battery",b:"Red to dead positive. Red to good positive. Black to good negative. Black to bare metal on dead car (not battery). Start good car. Wait 2 min. Try dead car. Let run 15 min. Disconnect reverse order."},
{c:"Financial",i:"üí∞",t:"Understanding Credit Scores",b:"Payment history matters most. Keep credit usage under 30% of limit. Don't close old cards. Check report annually free at annualcreditreport.com. Dispute errors immediately. Score improves slowly ‚Äî quick fixes usually don't work."},
{c:"Financial",i:"üí∞",t:"Starting an Emergency Fund",b:"Start small ‚Äî $500 is a win. Automate transfers on payday. Keep it separate from checking. Don't touch it for wants. Build to 3-6 months expenses eventually. High-yield savings account beats checking. Replenish after use."},
{c:"Social Skills",i:"ü§ù",t:"Remembering Names",b:"Repeat it immediately: 'Nice to meet you, Sarah.' Use it in conversation twice more. Create mental association. Write it down after if important. Admit if you forget ‚Äî people appreciate honesty over fake recognition."},
{c:"Social Skills",i:"ü§ù",t:"Making a Good First Impression",b:"Arrive 5 minutes early, not 15. Firm handshake, eye contact, smile. Dress slightly better than required. Ask questions about them. Put phone away completely. Follow up within 48 hours if appropriate."}
];

// JOKES
D.jk=[
{s:"Why don't scientists trust atoms?",p:"Because they make up everything!"},
{s:"What do you call a fake noodle?",p:"An impasta!"},
{s:"Why did the scarecrow win an award?",p:"He was outstanding in his field!"},
{s:"What do you call a bear with no teeth?",p:"A gummy bear!"},
{s:"Why did the banana go to the doctor?",p:"Because it wasn't peeling well!"},
{s:"What did the ocean say to the beach?",p:"Nothing ‚Äî it just waved!"},
{s:"Why don't eggs tell jokes?",p:"Because they'd crack each other up!"},
{s:"What do you call a sleeping dinosaur?",p:"A dino-snore!"},
{s:"Why did the math book look so sad?",p:"Because it had too many problems!"},
{s:"What do you call a fish without eyes?",p:"A fsh!"},
{s:"Why can't you give Elsa a balloon?",p:"Because she'll Let It Go!"},
{s:"What did one wall say to the other?",p:"I'll meet you at the corner!"},
{s:"Why did the cookie go to the doctor?",p:"Because it was feeling crummy!"},
{s:"What do you call a lazy kangaroo?",p:"A pouch potato!"},
{s:"Why did the bicycle fall over?",p:"Because it was two tired!"},
{s:"What do you call cheese that isn't yours?",p:"Nacho cheese!"},
{s:"Why did the coffee file a police report?",p:"It got mugged!"},
{s:"What do you call a pig that does karate?",p:"A pork chop!"},
{s:"Why did the golfer bring two pairs of pants?",p:"In case he got a hole in one!"},
{s:"What do you call a belt made of watches?",p:"A waist of time!"},
{s:"Why don't skeletons fight each other?",p:"They don't have the guts!"},
{s:"What did the grape say when it got stepped on?",p:"Nothing, it just let out a little wine!"},
{s:"Why did the stadium get hot?",p:"All the fans left!"},
{s:"What do you call a fake stone?",p:"A sham rock!"},
{s:"Why did the computer go to the doctor?",p:"It had a virus!"},
{s:"What do you call a boomerang that doesn't come back?",p:"A stick!"},
{s:"Why did the invisible man turn down the job offer?",p:"He couldn't see himself doing it!"},
{s:"Why don't ants ever get sick?",p:"Because they have tiny ant-ibodies!"},
{s:"What did the Buffalo say when his son left?",p:"Bison!"},
{s:"Why did the picture go to jail?",p:"Because it was framed!"},
{s:"What do you call a dinosaur that crashes his car?",p:"Tyrannosaurus Wrecks!"},
{s:"Why don't melons get married?",p:"Because they cantaloupe!"},
{s:"What did the janitor say when he jumped out of the closet?",p:"Supplies!"},
{s:"Why did the frog take the bus to work?",p:"His car got toad!"},
{s:"What do you call a sleeping bull?",p:"A bulldozer!"},
{s:"Why did the barber win the race?",p:"He knew a shortcut!"},
{s:"What did one plate say to the other plate?",p:"Dinner's on me!"},
{s:"What do you call a bee that can't make up its mind?",p:"A maybe!"},
{s:"Why did the mushroom go to the party?",p:"Because he was a fungi!"},
{s:"What do you call a pile of cats?",p:"A meowtain!"}
];

// STATE
let S = {
  members: [],
  act: 0,
  ci: 0,
  meetings: 0,
  lastMeeting: null
};
let mindfulTimer = null;

// PERSISTENCE
function loadState() {
  try {
    const saved = localStorage.getItem('stoke-state');
    if (saved) {
      const parsed = JSON.parse(saved);
      S.members = parsed.members || [];
      S.meetings = parsed.meetings || 0;
      S.lastMeeting = parsed.lastMeeting || null;
    }
  } catch(e) {
    console.log('Could not load state');
  }
  
  // Default members if empty
  if (S.members.length === 0) {
    S.members = ['', '', ''];
  }
  
  renderHome();
}

function saveState() {
  try {
    localStorage.setItem('stoke-state', JSON.stringify({
      members: S.members,
      meetings: S.meetings,
      lastMeeting: S.lastMeeting
    }));
  } catch(e) {
    console.log('Could not save state');
  }
}

// RENDER HOME
function renderHome() {
  // Stats
  document.getElementById('stat-meetings').textContent = S.meetings;
  
  if (S.lastMeeting) {
    const days = Math.floor((Date.now() - S.lastMeeting) / (1000 * 60 * 60 * 24));
    document.getElementById('stat-days').textContent = days;
  } else {
    document.getElementById('stat-days').textContent = '‚Äî';
  }
  
  // Family list
  const list = document.getElementById('family-list');
  list.innerHTML = '';
  
  S.members.forEach((name, i) => {
    const div = document.createElement('div');
    div.className = 'family-member';
    div.innerHTML = `
      <div class="family-avatar">${getInitial(name, i)}</div>
      <input class="family-name-input" type="text" placeholder="Enter name..." 
             value="${name}" onchange="updateMember(${i}, this.value)">
      ${S.members.length > 2 ? `<button class="family-remove" onclick="removeMember(${i})">√ó</button>` : ''}
    `;
    list.appendChild(div);
  });
  
  updateStartButton();
}

function getInitial(name, index) {
  if (name && name.trim()) {
    return name.trim()[0].toUpperCase();
  }
  return (index + 1);
}

function updateMember(index, value) {
  S.members[index] = value.trim();
  saveState();
  renderHome();
}

function addMember() {
  if (S.members.length < 12) {
    S.members.push('');
    saveState();
    renderHome();
  }
}

function removeMember(index) {
  if (S.members.length > 2) {
    S.members.splice(index, 1);
    saveState();
    renderHome();
  }
}

function updateStartButton() {
  const btn = document.getElementById('btn-start');
  const hasNames = S.members.some(m => m.trim() !== '');
  btn.disabled = !hasNames;
}

// BACKGROUND CROSSFADE
let bgTop = 'a';
function setBg(key) {
  const next = bgTop === 'a' ? 'b' : 'a';
  const curr = bgTop;
  const nEl = document.getElementById('bg-' + next);
  const cEl = document.getElementById('bg-' + curr);
  nEl.style.opacity = '0';
  nEl.style.transition = 'none';
  nEl.className = 'bg-layer bg--' + key;
  nEl.style.zIndex = '2';
  cEl.style.zIndex = '1';
  void nEl.offsetWidth;
  nEl.style.transition = 'opacity 0.9s cubic-bezier(.4,0,.2,1)';
  nEl.style.opacity = '1';
  cEl.style.opacity = '0';
  bgTop = next;
  updateGlows(key);
}

// GLOWS
const GLOWS = {
  home: ['rgba(245,158,11,0.18)', 'rgba(249,115,22,0.14)'],
  icebreaker: ['rgba(249,115,22,0.20)', 'rgba(245,158,11,0.16)'],
  quote: ['rgba(245,158,11,0.22)', 'rgba(217,119,6,0.18)'],
  checkin: ['rgba(251,191,36,0.24)', 'rgba(245,158,11,0.20)'],
  story: ['rgba(251,191,36,0.26)', 'rgba(249,115,22,0.22)'],
  lesson: ['rgba(251,191,36,0.28)', 'rgba(245,158,11,0.24)'],
  mindful: ['rgba(251,191,36,0.30)', 'rgba(249,115,22,0.26)'],
  joke: ['rgba(251,191,36,0.32)', 'rgba(245,158,11,0.28)'],
  close: ['rgba(251,191,36,0.35)', 'rgba(249,115,22,0.30)']
};

function updateGlows(key) {
  const c = GLOWS[key] || GLOWS.home;
  document.getElementById('glow1').style.background = c[0];
  document.getElementById('glow2').style.background = c[1];
}

// PARTICLES
(function() {
  const el = document.getElementById('particles');
  const cols = ['#f59e0b', '#f97316', '#fbbf24', '#fb923c', '#fcd34d'];
  for (let i = 0; i < 24; i++) {
    const p = document.createElement('div');
    p.className = 'particle';
    const sz = 2 + Math.random() * 4.5;
    const c = cols[Math.floor(Math.random() * cols.length)];
    p.style.cssText = `width:${sz}px;height:${sz}px;left:${Math.random()*100}%;bottom:${-8+Math.random()*14}%;background:${c};box-shadow:0 0 ${sz*2}px ${c};animation-duration:${7+Math.random()*7}s;animation-delay:${Math.random()*10}s;`;
    el.appendChild(p);
  }
})();

// SCREENS
function show(id) {
  document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
  const t = document.getElementById(id);
  requestAnimationFrame(() => { t.classList.add('active'); });
}

// CHROME
function setChrome(on) {
  document.getElementById('top-chrome').classList.toggle('visible', on);
}

function updateDots(n) {
  const cont = document.getElementById('dots-container');
  cont.innerHTML = '';
  for (let i = 1; i <= 8; i++) {
    const d = document.createElement('div');
    d.className = 'dot';
    if (i < n) d.classList.add('done');
    if (i === n) d.classList.add('active');
    cont.appendChild(d);
  }
}

// UTIL
function pick(a) { return a[Math.floor(Math.random() * a.length)]; }

function getActiveMembers() {
  return S.members.filter(m => m.trim() !== '');
}

// NAV
function goHome() {
  S.act = 0;
  setBg('home');
  setChrome(false);
  show('screen-home');
  if (mindfulTimer) { clearInterval(mindfulTimer); mindfulTimer = null; }
  renderHome();
}

function goBack() {
  if (S.act <= 1) { goHome(); return; }
  goToAct(S.act - 1);
}

function goToAct(n) {
  S.act = n;
  const screens = ['home', 'icebreaker', 'quote', 'checkin', 'story', 'lesson', 'mindful', 'joke', 'close'];
  const bgKeys = ['home', 'icebreaker', 'quote', 'checkin', 'story', 'lesson', 'mindful', 'joke', 'close'];
  
  if (n === 0) { goHome(); return; }
  
  setBg(bgKeys[n]);
  setChrome(true);
  updateDots(n);
  show('screen-' + screens[n]);
  
  if (n === 1) loadIcebreaker();
  if (n === 2) loadQuote();
  if (n === 3) loadCheckin();
  if (n === 4) loadStory();
  if (n === 5) loadLesson();
  if (n === 6) loadMindful();
  if (n === 7) loadJoke();
  if (n === 8) completeMeeting();
}

// START
function startMeeting() {
  const hasNames = S.members.some(m => m.trim() !== '');
  if (!hasNames) return;
  goToAct(1);
}

// SKIP / ONE MORE
function skip(type) {
  const next = { icebreaker: 2, quote: 3, checkin: 4, story: 5, lesson: 6, mindful: 7, joke: 8 }[type];
  goToAct(next);
}

function oneMore(type) {
  if (type === 'icebreaker') loadIcebreaker();
  if (type === 'quote') loadQuote();
  if (type === 'checkin') loadCheckin();
  if (type === 'story') loadStory();
  if (type === 'lesson') loadLesson();
  if (type === 'joke') loadJoke();
}

// QUICK GUIDE
function toggleGuide() {
  document.getElementById('guide-modal').classList.toggle('active');
}

// ICE BREAKER
function loadIcebreaker() {
  document.getElementById('ib-text').textContent = pick(D.ib);
}

// QUOTE
function loadQuote() {
  const q = pick(D.qt);
  document.getElementById('qt-text').textContent = q.t;
  document.getElementById('qt-author').textContent = '‚Äî ' + q.a;
}

// CHECK-IN
function loadCheckin() {
  S.ci = 0;
  const members = getActiveMembers();
  document.getElementById('ci-cur').textContent = '1';
  document.getElementById('ci-tot').textContent = members.length;
  updateCIPerson();
}

function updateCIPerson() {
  const members = getActiveMembers();
  const n = S.ci + 1;
  const name = members[S.ci] || 'Person ' + n;
  
  document.getElementById('ci-pname').textContent = name;
  document.getElementById('ci-grat').textContent = pick(D.gr);
  document.getElementById('ci-goal').textContent = pick(D.gl);
  document.getElementById('ci-navlbl').textContent = n + ' / ' + members.length;
  document.getElementById('ci-prev').disabled = (S.ci === 0);
  document.getElementById('ci-next').disabled = (S.ci === members.length - 1);
  
  const btn = document.getElementById('ci-cont');
  if (S.ci === members.length - 1) {
    btn.innerHTML = 'Continue <span class="arrow">‚Üí</span>';
    btn.onclick = () => goToAct(4);
  } else {
    btn.innerHTML = 'Next Person <span class="arrow">‚Ä∫</span>';
    btn.onclick = () => movePerson(1);
  }
}

function movePerson(dir) {
  const members = getActiveMembers();
  S.ci = Math.max(0, Math.min(members.length - 1, S.ci + dir));
  updateCIPerson();
}

// STORY
function loadStory() {
  const st = pick(D.st);
  document.getElementById('story-title').textContent = st.t;
  document.getElementById('story-body').textContent = st.s;
  document.getElementById('story-moral').textContent = st.m;
}

// LESSON
function loadLesson() {
  const ls = pick(D.ls);
  document.getElementById('les-icon').textContent = ls.i;
  document.getElementById('les-cat').textContent = ls.c;
  document.getElementById('les-title').textContent = ls.t;
  document.getElementById('les-body').textContent = ls.b;
}

// MINDFULNESS TIMER
function loadMindful() {
  document.getElementById('mindful-timer').textContent = '0:30';
  document.getElementById('mindful-status').textContent = 'Ready when you are';
  document.getElementById('btn-mindful').style.display = 'inline-flex';
  document.getElementById('mindful-cont').style.display = 'none';
  if (mindfulTimer) { clearInterval(mindfulTimer); mindfulTimer = null; }
}

function startMindful() {
  let sec = 30;
  document.getElementById('btn-mindful').style.display = 'none';
  document.getElementById('mindful-status').textContent = 'Breathe...';
  
  mindfulTimer = setInterval(() => {
    sec--;
    const min = Math.floor(sec / 60);
    const s = sec % 60;
    document.getElementById('mindful-timer').textContent = min + ':' + (s < 10 ? '0' : '') + s;
    if (sec <= 0) {
      clearInterval(mindfulTimer);
      mindfulTimer = null;
      document.getElementById('mindful-status').textContent = 'Complete';
      document.getElementById('mindful-cont').style.display = 'inline-flex';
    }
  }, 1000);
}

// JOKE
function loadJoke() {
  const jk = pick(D.jk);
  document.getElementById('jk-setup').textContent = jk.s;
  document.getElementById('jk-punch').textContent = jk.p;
  document.getElementById('btn-reveal').style.display = 'inline-flex';
  document.getElementById('pk-wrap').style.display = 'none';
}

function revealJoke() {
  document.getElementById('btn-reveal').style.display = 'none';
  document.getElementById('pk-wrap').style.display = 'flex';
}

// COMPLETE MEETING
function completeMeeting() {
  S.meetings++;
  S.lastMeeting = Date.now();
  saveState();
  
  document.getElementById('close-total').textContent = S.meetings;
}

// INIT
updateGlows('home');
loadState();
</script>
</body>
</html>
</html>

